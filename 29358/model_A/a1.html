<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GRE Quantitative Comparison Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        font-family: "Arial", sans-serif;
      }
      .dark-mode {
        background-color: #1a202c;
        color: #e2e8f0;
      }
      .dark-mode .card {
        background-color: #2d3748;
      }
    </style>
  </head>
  <body class="p-5 transition-colors duration-500">
    <button id="toggleMode" class="mb-4 p-2 bg-blue-500 text-white rounded">
      Toggle Dark Mode
    </button>
    <div id="app" class="max-w-lg mx-auto">
      <div id="progress" class="h-4 bg-gray-200 mb-4 rounded">
        <div
          id="progressBar"
          class="h-full bg-green-500 rounded"
          style="width: 0"
        ></div>
      </div>
      <div id="timer" class="text-center text-xl mb-4">Time: 60</div>
      <div
        id="question"
        class="card bg-white p-4 mb-4 shadow-lg rounded-lg dark-mode:bg-gray-700"
      ></div>
      <div id="options" class="grid grid-cols-2 gap-2 mb-4"></div>
      <button
        id="nextQuestion"
        class="w-full p-2 bg-blue-500 text-white rounded disabled:opacity-50"
        disabled
      >
        Next Question
      </button>
      <div id="answerExplanation" class="mt-4 hidden">
        <h2 class="font-bold">Explanation:</h2>
        <p id="explanationText"></p>
      </div>
      <div id="summary" class="mt-8 hidden">
        <h2 class="font-bold text-xl">Your Score</h2>
        <p>Correct: <span id="correctCount"></span></p>
        <p>Incorrect: <span id="incorrectCount"></span></p>
        <p>Score: <span id="score"></span>%</p>
      </div>
    </div>

    <script>
      const questions = [
        {
          question:
            "Moira’s share when the revenue generated by Company X is $15,700 vs. $7,900.",
          columnA: "$7,136.36",
          columnB: "$7,900",
          answer: "Column B is greater",
          explanation:
            "Moira’s share is calculated by dividing $15,700 in a 6:5 ratio. Moira’s portion = (5/11) * $15,700 = $7,136.36, which is less than $7,900.",
        },
        // Add more questions here...
      ];

      let currentQuestion = 0;
      let correctAnswers = 0;
      let incorrectAnswers = 0;
      let timer;
      let timeLeft = 60;

      document
        .getElementById("toggleMode")
        .addEventListener("click", function () {
          document.body.classList.toggle("dark-mode");
        });

      function loadQuestion() {
        if (currentQuestion >= questions.length) {
          showSummary();
          return;
        }

        const q = questions[currentQuestion];
        document.getElementById(
          "question"
        ).innerHTML = `<p><strong>Column A:</strong> ${q.columnA}</p><p><strong>Column B:</strong> ${q.columnB}</p>`;
        document.getElementById("options").innerHTML = `
            <button class="option bg-gray-200 p-2 rounded dark-mode:bg-gray-600" data-answer="Column A is greater">A > B</button>
            <button class="option bg-gray-200 p-2 rounded dark-mode:bg-gray-600" data-answer="Column B is greater">A < B</button>
            <button class="option bg-gray-200 p-2 rounded dark-mode:bg-gray-600" data-answer="The two quantities are equal">A = B</button>
            <button class="option bg-gray-200 p-2 rounded dark-mode:bg-gray-600" data-answer="The relationship cannot be determined from the information given">Can't Determine</button>
        `;
        document.querySelectorAll(".option").forEach((option) => {
          option.addEventListener("click", checkAnswer);
        });
        startTimer();
        updateProgressBar();
      }

      function startTimer() {
        document.getElementById("timer").textContent = `Time: ${timeLeft}`;
        timer = setInterval(() => {
          if (timeLeft <= 0) {
            clearInterval(timer);
            document.getElementById("nextQuestion").disabled = false;
            document
              .getElementById("answerExplanation")
              .classList.remove("hidden");
            timeLeft = 60;
            incorrectAnswers++;
          } else {
            timeLeft--;
            document.getElementById("timer").textContent = `Time: ${timeLeft}`;
          }
        }, 1000);
      }

      function checkAnswer(e) {
        clearInterval(timer);
        const selectedAnswer = e.target.getAttribute("data-answer");
        const correctAnswer = questions[currentQuestion].answer;
        document.getElementById("answerExplanation").classList.remove("hidden");
        document.getElementById("explanationText").textContent =
          questions[currentQuestion].explanation;
        document.getElementById("nextQuestion").disabled = false;

        if (selectedAnswer === correctAnswer) {
          correctAnswers++;
        } else {
          incorrectAnswers++;
        }
      }

      function nextQuestion() {
        currentQuestion++;
        timeLeft = 60;
        document.getElementById("answerExplanation").classList.add("hidden");
        document.getElementById("nextQuestion").disabled = true;
        loadQuestion();
      }

      function updateProgressBar() {
        const progress = ((currentQuestion + 1) / questions.length) * 100;
        document.getElementById("progressBar").style.width = `${progress}%`;
      }

      function showSummary() {
        document.getElementById("app").innerHTML = "";
        document.getElementById("summary").classList.remove("hidden");
        document.getElementById("correctCount").textContent = correctAnswers;
        document.getElementById("incorrectCount").textContent =
          incorrectAnswers;
        document.getElementById("score").textContent = Math.round(
          (correctAnswers / questions.length) * 100
        );
      }

      document
        .getElementById("nextQuestion")
        .addEventListener("click", nextQuestion);
      loadQuestion();
    </script>
  </body>
</html>
