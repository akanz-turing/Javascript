<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blockchain Concept Visualizer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.11.5/mermaid.min.js"></script>
    <style>
      /* Custom styles for Blockchain Concept Visualizer */

      body {
        background-color: #f0f4f8;
      }

      .container {
        max-width: 1200px;
      }

      /* Card styles */
      .card {
        background-color: #ffffff;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .card:hover {
        transform: translateY(-5px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
      }

      /* Mermaid diagram styles */
      .mermaid {
        background-color: #f8fafc;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 20px;
      }

      /* Explanation card styles */
      .explanation-card {
        background-color: #f8fafc;
        border-left: 4px solid #3b82f6;
        padding: 16px;
        margin-bottom: 16px;
        border-radius: 0 8px 8px 0;
        transition: all 0.3s ease;
      }

      .explanation-card:hover {
        background-color: #eff6ff;
        transform: translateX(5px);
      }

      /* Styles for the forks timeline */
      #forks-timeline {
        position: relative;
        padding: 40px 0;
      }

      #forks-timeline::before {
        content: "";
        position: absolute;
        top: 0;
        bottom: 0;
        left: 50%;
        width: 4px;
        background-color: #3b82f6;
      }

      .timeline-item {
        position: relative;
        margin-bottom: 40px;
        width: 50%;
      }

      .timeline-item::before {
        content: "";
        position: absolute;
        top: 50%;
        width: 20px;
        height: 20px;
        background-color: #3b82f6;
        border-radius: 50%;
        transform: translateY(-50%);
      }

      .timeline-item:nth-child(odd) {
        left: 0;
        padding-right: 40px;
      }

      .timeline-item:nth-child(even) {
        left: 50%;
        padding-left: 40px;
      }

      .timeline-item:nth-child(odd)::before {
        right: -10px;
      }

      .timeline-item:nth-child(even)::before {
        left: -10px;
      }

      .timeline-content {
        background-color: #ffffff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      /* Animation for flow steps */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .flow-step {
        animation: fadeInUp 0.5s ease forwards;
        opacity: 0;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        #forks-timeline::before {
          left: 0;
        }

        .timeline-item {
          width: 100%;
          padding-left: 40px;
        }

        .timeline-item::before {
          left: -10px;
        }

        .timeline-item:nth-child(even) {
          left: 0;
        }
      }
    </style>
  </head>
  <body class="bg-gray-100 font-sans">
    <header
      class="bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 shadow-lg"
    >
      <h1 class="text-3xl font-bold text-center">
        Blockchain Concept Visualizer
      </h1>
    </header>
    <main class="container mx-auto mt-8 p-4">
      <section
        id="block-structure"
        class="mb-12 bg-white rounded-lg shadow-lg p-6"
      >
        <h2 class="text-2xl font-semibold mb-4 text-blue-600">
          1. Block Structure Visualizer
        </h2>
        <div class="mermaid">
          classDiagram class Block { +int index +string previousHash +string
          timestamp +string[] transactions +int nonce +string hash }
        </div>
        <div
          id="block-explanation"
          class="mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"
        >
          <!-- Explanation cards will be dynamically added here -->
        </div>
      </section>

      <section
        id="mining-process"
        class="mb-12 bg-white rounded-lg shadow-lg p-6"
      >
        <h2 class="text-2xl font-semibold mb-4 text-blue-600">
          2. Mining Process
        </h2>
        <div class="mermaid">
          graph TD A[Start] --> B[Collect Transactions] B --> C[Create Block
          Header] C --> D[Calculate Nonce] D --> E{Hash < Target?} E -->|No| D E
          -->|Yes| F[Broadcast Block] F --> G[End]
        </div>
        <div
          id="mining-explanation"
          class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"
        >
          <!-- Mining process explanation will be added here -->
        </div>
      </section>

      <section
        id="transaction-flow"
        class="mb-12 bg-white rounded-lg shadow-lg p-6"
      >
        <h2 class="text-2xl font-semibold mb-4 text-blue-600">
          3. Transaction Flow Diagram
        </h2>
        <div class="mermaid">
          sequenceDiagram participant S as Sender participant N as Network
          participant M as Miners participant B as Blockchain S->>N: Create and
          broadcast transaction N->>M: Receive transaction M->>M: Verify
          transaction M->>M: Include in block M->>B: Add block to chain B->>N:
          Confirm transaction N->>S: Transaction confirmed
        </div>
        <div
          id="transaction-explanation"
          class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"
        >
          <!-- Transaction flow explanation will be added here -->
        </div>
      </section>

      <section
        id="consensus-comparison"
        class="mb-12 bg-white rounded-lg shadow-lg p-6"
      >
        <h2 class="text-2xl font-semibold mb-4 text-blue-600">
          4. Consensus Mechanism Comparison
        </h2>
        <div class="flex flex-col md:flex-row">
          <div class="w-full md:w-1/2">
            <canvas id="consensusChart"></canvas>
          </div>
          <div
            id="consensus-explanation"
            class="w-full md:w-1/2 mt-6 md:mt-0 md:ml-6"
          >
            <!-- Consensus mechanism explanations will be added here -->
          </div>
        </div>
      </section>

      <section
        id="blockchain-forks"
        class="mb-12 bg-white rounded-lg shadow-lg p-6"
      >
        <h2 class="text-2xl font-semibold mb-4 text-blue-600">
          5. Blockchain Forks Timeline
        </h2>
        <div id="forks-timeline" class="relative">
          <!-- Timeline will be dynamically created here -->
        </div>
      </section>
    </main>
    <script>
      // Initialize Mermaid for diagrams
      mermaid.initialize({ startOnLoad: true, theme: "neutral" });

      // Block Structure Visualizer
      const blockExplanations = [
        {
          title: "Index",
          description: "The position of the block in the blockchain.",
        },
        {
          title: "Previous Hash",
          description: "The hash of the previous block, creating the chain.",
        },
        {
          title: "Timestamp",
          description: "The time when the block was created.",
        },
        {
          title: "Transactions",
          description: "The list of transactions included in this block.",
        },
        {
          title: "Nonce",
          description:
            "A number used in the mining process to find a valid hash.",
        },
        {
          title: "Hash",
          description:
            "The unique identifier of this block, calculated from its contents.",
        },
      ];

      const blockExplanationContainer =
        document.getElementById("block-explanation");

      blockExplanations.forEach((item) => {
        const card = document.createElement("div");
        card.className = "explanation-card";
        card.innerHTML = `
              <h3 class="font-semibold text-lg mb-2">${item.title}</h3>
              <p>${item.description}</p>
          `;
        blockExplanationContainer.appendChild(card);
      });

      // Mining Process Explanation
      const miningSteps = [
        {
          step: "Collect Transactions",
          description:
            "The miner gathers valid transactions from the network's memory pool.",
        },
        {
          step: "Create Block Header",
          description:
            "The miner assembles the block header, including the previous block's hash, a merkle root of transactions, and other metadata.",
        },
        {
          step: "Calculate Nonce",
          description:
            "The miner repeatedly changes the nonce and recalculates the block hash until it finds a hash that meets the network's difficulty target.",
        },
        {
          step: "Broadcast Block",
          description:
            "Once a valid hash is found, the miner broadcasts the new block to the network for validation and inclusion in the blockchain.",
        },
      ];

      const miningExplanationContainer =
        document.getElementById("mining-explanation");

      miningSteps.forEach((step) => {
        const stepElement = document.createElement("div");
        stepElement.className = "explanation-card flow-step";
        stepElement.innerHTML = `
              <h4 class="font-semibold text-lg mb-2">${step.step}</h4>
              <p>${step.description}</p>
          `;
        miningExplanationContainer.appendChild(stepElement);
      });

      // Transaction Flow Explanation
      const transactionSteps = [
        {
          step: "Creation",
          description: "The sender initiates a new transaction.",
        },
        {
          step: "Broadcast",
          description: "The transaction is broadcast to the network.",
        },
        {
          step: "Verification",
          description: "Miners verify the transaction's validity.",
        },
        {
          step: "Inclusion",
          description: "The transaction is included in a new block.",
        },
        {
          step: "Mining",
          description: "Miners compete to solve the cryptographic puzzle.",
        },
        {
          step: "Confirmation",
          description:
            "The new block (with the transaction) is added to the blockchain.",
        },
      ];

      const transactionExplanationContainer = document.getElementById(
        "transaction-explanation"
      );

      transactionSteps.forEach((step) => {
        const stepElement = document.createElement("div");
        stepElement.className = "explanation-card flow-step";
        stepElement.innerHTML = `
              <h4 class="font-semibold text-lg mb-2">${step.step}</h4>
              <p>${step.description}</p>
          `;
        transactionExplanationContainer.appendChild(stepElement);
      });

      // Consensus Mechanism Comparison
      const consensusChart = new Chart(
        document.getElementById("consensusChart"),
        {
          type: "radar",
          data: {
            labels: [
              "Security",
              "Decentralization",
              "Scalability",
              "Energy Efficiency",
              "Participation Barrier",
            ],
            datasets: [
              {
                label: "Proof of Work",
                data: [9, 8, 4, 2, 7],
                backgroundColor: "rgba(255, 99, 132, 0.2)",
                borderColor: "rgb(255, 99, 132)",
              },
              {
                label: "Proof of Stake",
                data: [7, 7, 8, 9, 5],
                backgroundColor: "rgba(54, 162, 235, 0.2)",
                borderColor: "rgb(54, 162, 235)",
              },
              {
                label: "Delegated Proof of Stake",
                data: [6, 5, 9, 8, 6],
                backgroundColor: "rgba(255, 206, 86, 0.2)",
                borderColor: "rgb(255, 206, 86)",
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              r: {
                angleLines: {
                  display: false,
                },
                suggestedMin: 0,
                suggestedMax: 10,
              },
            },
          },
        }
      );

      const consensusExplanationContainer = document.getElementById(
        "consensus-explanation"
      );
      const consensusMechanisms = [
        {
          name: "Proof of Work (PoW)",
          description:
            "Miners compete to solve complex mathematical puzzles. High security but energy-intensive.",
          pros: ["High security", "Fully decentralized"],
          cons: ["Energy-intensive", "Potential for 51% attacks"],
        },
        {
          name: "Proof of Stake (PoS)",
          description:
            "Validators are chosen to create new blocks based on their stake in the cryptocurrency.",
          pros: ["Energy-efficient", "Potentially more scalable"],
          cons: [
            "Potential centralization risks",
            "'Nothing at stake' problem",
          ],
        },
        {
          name: "Delegated Proof of Stake (DPoS)",
          description:
            "Token holders vote for 'delegates' who are responsible for validating transactions and maintaining the blockchain.",
          pros: ["Very fast and scalable", "More energy-efficient than PoW"],
          cons: ["Less decentralized", "Potential for cartels"],
        },
      ];

      consensusMechanisms.forEach((mechanism) => {
        const mechanismElement = document.createElement("div");
        mechanismElement.className = "explanation-card mb-4";
        mechanismElement.innerHTML = `
        <h4 class="font-semibold text-lg mb-2">${mechanism.name}</h4>
        <p class="mb-2">${mechanism.description}</p>
        <h5 class="font-semibold mt-2">Pros:</h5>
        <ul class="list-disc pl-5 mb-2">
            ${mechanism.pros.map((pro) => `<li>${pro}</li>`).join("")}
        </ul>
        <h5 class="font-semibold mt-2">Cons:</h5>
        <ul class="list-disc pl-5">
            ${mechanism.cons.map((con) => `<li>${con}</li>`).join("")}
        </ul>
    `;
        consensusExplanationContainer.appendChild(mechanismElement);
      });

      // Blockchain Forks Timeline
      const forksTimelineContainer = document.getElementById("forks-timeline");
      const forks = [
        {
          date: "2017-08-01",
          name: "Bitcoin Cash",
          description: "Forked from Bitcoin to increase block size",
        },
        {
          date: "2016-07-20",
          name: "Ethereum Classic",
          description: "Result of the DAO hack and subsequent hard fork",
        },
        {
          date: "2017-10-24",
          name: "Bitcoin Gold",
          description: "Forked from Bitcoin to change mining algorithm",
        },
        {
          date: "2018-05-15",
          name: "Bitcoin SV",
          description: "Forked from Bitcoin Cash due to disagreements",
        },
        {
          date: "2019-01-03",
          name: "Ethereum Constantinople",
          description: "Ethereum network upgrade",
        },
      ];

      forks.forEach((fork, index) => {
        const forkElement = document.createElement("div");
        forkElement.className = `timeline-item ${
          index % 2 === 0 ? "left" : "right"
        }`;
        forkElement.innerHTML = `
        <div class="timeline-content">
            <h4 class="font-semibold text-lg mb-2">${fork.date}: ${fork.name}</h4>
            <p>${fork.description}</p>
        </div>
    `;
        forksTimelineContainer.appendChild(forkElement);
      });

      // Add staggered animation to flow steps
      document.querySelectorAll(".flow-step").forEach((step, index) => {
        step.style.animationDelay = `${index * 0.2}s`;
      });

      // Add interactivity to explanation cards
      document.querySelectorAll(".explanation-card").forEach((card) => {
        card.addEventListener("mouseenter", () => {
          card.style.transform = "scale(1.05)";
        });
        card.addEventListener("mouseleave", () => {
          card.style.transform = "scale(1)";
        });
      });

      // Adjust consensus chart size
      const resizeConsensusChart = () => {
        const container = document.getElementById("consensus-comparison");
        const canvas = document.getElementById("consensusChart");
        canvas.style.height = `${container.offsetHeight * 0.8}px`;
        consensusChart.resize();
      };

      window.addEventListener("load", resizeConsensusChart);
      window.addEventListener("resize", resizeConsensusChart);
    </script>
  </body>
</html>
