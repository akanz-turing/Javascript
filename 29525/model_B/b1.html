<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Formula one stats</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      /* Example CSS for responsiveness */
      @media (max-width: 768px) {
        .driver-performance select {
          width: 100%;
          margin-bottom: 10px;
        }
      }
    </style>
  </head>
  <body>
    <div class="driver-performance">
      <select id="driver1" onchange="updateChart()"></select>
      <select id="driver2" onchange="updateChart()"></select>
      <button onclick="compareDrivers()">Compare</button>
      <canvas id="driverChart"></canvas>
    </div>
    <div class="race-stats">
      <select id="season" onchange="loadRaces()"></select>
      <select id="race" onchange="showRaceStats()"></select>
      <div id="raceDetails"></div>
    </div>
    <div class="season-compare">
      <input type="number" id="season1" min="1950" max="currentYear" />
      <input type="number" id="season2" min="1950" max="currentYear" />
      <canvas id="seasonChart"></canvas>
    </div>
    <div class="standings">
      <select id="standingsYear"></select>
      <button onclick="fetchStandings()">Load Standings</button>
      <table id="driverStandings"></table>
      <table id="constructorStandings"></table>
    </div>
    <input
      type="text"
      id="searchInput"
      onkeyup="searchFunction()"
      placeholder="Search for drivers, teams..."
    />
    <script>
      function updateChart() {
        const driver1 = document.getElementById("driver1").value;
        const driver2 = document.getElementById("driver2").value;
        // Fetch data for selected drivers and update the chart
        fetchDriverStats(driver1).then((data) => {
          // Update Chart.js with new data
        });
      }

      function compareDrivers() {
        // Logic to handle comparison display
      }
      function loadRaces() {
        // Populate races for the selected season
      }

      function showRaceStats() {
        const raceId = document.getElementById("race").value;
        fetch(`/api/races/${raceId}`)
          .then((response) => response.json())
          .then((data) => displayRaceDetails(data));
      }
      function searchFunction() {
        const input = document
          .getElementById("searchInput")
          .value.toUpperCase();
        // Filter logic here
      }
    </script>
  </body>
</html>
