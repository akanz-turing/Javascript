<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data Structures Visualizer</title>
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Arial", sans-serif;
        background: #f4f4f4;
      }
      .navbar {
        background-color: #007bff;
      }
      .navbar-brand,
      .nav-link {
        color: white !important;
      }
      .card {
        margin-bottom: 20px;
      }
      .code-block {
        background: #282c34;
        color: #abb2bf;
        padding: 10px;
        border-radius: 5px;
      }
      .collapsible {
        cursor: pointer;
      }
      .content {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.2s ease-out;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg">
      <a class="navbar-brand" href="#">Data Structures</a>
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="#array">Array</a></li>
          <!-- Add more data structures here -->
        </ul>
      </div>
    </nav>

    <div class="container mt-4">
      <div id="array" class="data-structure">
        <h2 class="collapsible">Array</h2>
        <div class="content">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Explanation</h5>
              <p class="card-text">An array is a linear data structure...</p>
              <p>
                <strong>Use Cases:</strong> Image processing, storing data in
                tabular form...
              </p>
              <p>
                <strong>Time Complexity:</strong> Access O(1), Search O(n),
                Insertion/Deletion at end O(1), at beginning/middle O(n)
              </p>
              <p><strong>Space Complexity:</strong> O(n)</p>
            </div>
          </div>
          <div class="visualization" id="array-vis"></div>
          <pre class="code-block">
<code id="array-code">
// Example JavaScript code for array operations
let arr = [1, 2, 3];
arr.push(4); // Add to end
arr.unshift(0); // Add to beginning
console.log(arr);
</code>
            </pre>
          <button onclick="runCode('array-code')">Run Code</button>
        </div>
      </div>
      <!-- Repeat structure for other data structures -->
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js"></script>
    <script>
      document.querySelectorAll(".collapsible").forEach((item) => {
        item.addEventListener("click", function () {
          this.classList.toggle("active");
          let content = this.nextElementSibling;
          if (content.style.maxHeight) {
            content.style.maxHeight = null;
          } else {
            content.style.maxHeight = content.scrollHeight + "px";
          }
        });
      });

      function runCode(id) {
        let code = document.getElementById(id).textContent;
        try {
          eval(code);
        } catch (e) {
          console.error("Error in code: ", e);
        }
      }

      // Here you would initialize visualizations for each data structure
      // For example, for arrays:
      function visualizeArray() {
        // Simple visualization with D3.js
        d3.select("#array-vis")
          .selectAll("div")
          .data([1, 2, 3, 4])
          .enter()
          .append("div")
          .style("width", "50px")
          .style("height", "50px")
          .style("background-color", "lightblue")
          .style("margin", "5px")
          .text((d) => d);
      }
      visualizeArray();
    </script>
  </body>
</html>
